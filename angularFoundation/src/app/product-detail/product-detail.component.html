<div class="row">
  <div class="col-lg-12">
    <img src="../../assets/image/img_fjords_wide.jpg" alt="">
    <h3 class="pull-right">{{product?.price | number:'.2-2'}}</h3>
    <h3>{{product?.title}}</h3>
    <p>{{product?.desc}}</p>
    <app-stars [rating]="product?.rating"></app-stars>
    <hr>
  </div>
  <div class="col-lg-12" style="margin-bottom:10px;">
    <button type="button" [ngClass]="isWatched?'btn':'btn btn-success'"
      (click)="watchProduct($event)">{{isWatched?"取消关注":"关注"}}</button>最新出价：{{currentPrice | number:'.2-2'}}
  </div>
  <div class="col-lg-12 well" style="padding:10px 15px;">
    <button type="button" class="btn btn-success" (click)="toggleComment()">发表评论</button>
    <div [hidden]="!ifShowCommentDiv">
      <div class="form-group">
          <!-- (ratingEmitter)="getNewRating($event)" -->
          <app-stars [ifCanClick]="true" 
            [(rating)]="newRating" [ifSubmit]="ifSubmit"></app-stars>
      </div>
      <div class="form-group">
          <textarea name="" id="" cols="30" rows="5" [(ngModel)]="newComment"></textarea>
      </div>
      <button type="button" class="btn" (click)="submit($event)">提交</button>
      <hr>
    </div>
  </div>
  <div class="col-lg-12 well" *ngFor="let comment of comments | async">
    <p class="pull-right">{{comment.timestamp}}</p>
    <p>{{comment.user}}</p>
    <p>{{comment.content}}</p>
    <app-stars [rating]="comment.rating"></app-stars>
    <hr>
  </div>
</div>